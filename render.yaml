services:
  - type: web
    name: beji
    env: node
    region: oregon
    plan: starter
    buildCommand: pnpm install && pnpm build:client
    startCommand: pnpm start
    envVars:
      - key: NODE_ENV
        value: production
      # PORT is automatically set by Render - do not define it manually
      # Authentication - Set these in Render dashboard
      # - key: GOOGLE_CLIENT_ID
      #   sync: false
      # - key: GOOGLE_CLIENT_SECRET
      #   sync: false
      # - key: JWT_SECRET
      #   sync: false
      # Redis - Automatically set when linking a Render Redis service
      # Or set manually for external Redis:
      # - key: REDISCLI_AUTH
      #   sync: false
      # Optional: CORS origins
      # - key: ALLOWED_ORIGINS
      #   value: https://your-domain.com

# Optional: Redis service (uncomment if using Render Redis)
# databases:
#   - name: beji-redis
#     plan: starter
#     maxmemoryPolicy: allkeys-lru

